/*! on-demand-live-region 0.1.2 — © Heydon Pickering */
(function(global){"use strict";function OnDemandLiveRegion(options){options=options||{};this.settings={level:"polite",parent:"body",idPrefix:"live-region-",delay:0};for(var setting in options){if(options.hasOwnProperty(setting)){this.settings[setting]=options[setting]}}this.settings.parent=document.querySelector(this.settings.parent)}OnDemandLiveRegion.prototype.say=function(thingToSay,delay){var oldRegion=this.settings.parent.querySelector('[id^="'+this.settings.idPrefix+'"]')||false;if(oldRegion){this.settings.parent.removeChild(oldRegion)}delay=delay||this.settings.delay;this.currentRegion=document.createElement("span");this.currentRegion.id=this.settings.idPrefix+Math.floor(Math.random()*1e4);var role=this.settings.level!=="assertive"?"status":"alert";this.currentRegion.setAttribute("aria-live",this.settings.level);this.currentRegion.setAttribute("role",role);this.currentRegion.setAttribute("style","clip: rect(1px, 1px, 1px, 1px); height: 1px; overflow: hidden; position: absolute; white-space: nowrap; width: 1px");this.settings.parent.appendChild(this.currentRegion);window.setTimeout(function(){this.currentRegion.textContent=thingToSay}.bind(this),delay);return this};if(typeof module!=="undefined"&&typeof module.exports!=="undefined"){module.exports=OnDemandLiveRegion}else if(typeof define==="function"&&define.amd){define("OnDemandLiveRegion",[],function(){return OnDemandLiveRegion})}else if(typeof global==="object"){global.OnDemandLiveRegion=OnDemandLiveRegion}})(this);
