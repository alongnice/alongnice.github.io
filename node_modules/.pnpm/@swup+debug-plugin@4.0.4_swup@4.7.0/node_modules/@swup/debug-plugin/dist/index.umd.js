!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(o||self).SwupDebugPlugin=n()}(this,function(){function o(){return o=Object.assign?Object.assign.bind():function(o){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s])}return o},o.apply(this,arguments)}const n=o=>String(o).split(".").map(o=>String(parseInt(o||"0",10))).concat(["0","0"]).slice(0,3).join(".");class i{constructor(){this.isSwupPlugin=!0,this.swup=void 0,this.version=void 0,this.requires={},this.handlersToUnregister=[]}mount(){}unmount(){this.handlersToUnregister.forEach(o=>o()),this.handlersToUnregister=[]}_beforeMount(){if(!this.name)throw new Error("You must define a name of plugin when creating a class.")}_afterUnmount(){}_checkRequirements(){return"object"!=typeof this.requires||Object.entries(this.requires).forEach(([o,i])=>{if(!function(o,i,s){const t=function(o,n){var i;if("swup"===o)return null!=(i=n.version)?i:"";{var s;const i=n.findPlugin(o);return null!=(s=null==i?void 0:i.version)?s:""}}(o,s);return!!t&&((o,i)=>i.every(i=>{const[,s,t]=i.match(/^([\D]+)?(.*)$/)||[];var e,r;return((o,n)=>{const i={"":o=>0===o,">":o=>o>0,">=":o=>o>=0,"<":o=>o<0,"<=":o=>o<=0};return(i[n]||i[""])(o)})((r=t,e=n(e=o),r=n(r),e.localeCompare(r,void 0,{numeric:!0})),s||">=")}))(t,i)}(o,i=Array.isArray(i)?i:[i],this.swup)){const n=`${o} ${i.join(", ")}`;throw new Error(`Plugin version mismatch: ${this.name} requires ${n}`)}}),!0}on(o,n,i={}){var s;n=!(s=n).name.startsWith("bound ")||s.hasOwnProperty("prototype")?n.bind(this):n;const t=this.swup.hooks.on(o,n,i);return this.handlersToUnregister.push(t),t}once(n,i,s={}){return this.on(n,i,o({},s,{once:!0}))}before(n,i,s={}){return this.on(n,i,o({},s,{before:!0}))}replace(n,i,s={}){return this.on(n,i,o({},s,{replace:!0}))}off(o,n){return this.swup.hooks.off(o,n)}}return class extends i{constructor(o){void 0===o&&(o={}),super(),this.name="SwupDebugPlugin",this.requires={swup:">=4"},this.defaults={globalInstance:!1},this.options=void 0,this.originalSwupLog=void 0,this.originalSwupHookCall=void 0,this.originalSwupHookCallSync=void 0,this.callHook=(()=>{var o=this;return function(n,i){return o.logHook(n,i),o.originalSwupHookCall(n,i,...[].slice.call(arguments,2))}})(),this.callHookSync=(()=>{var o=this;return function(n,i){return o.logHook(n,i),o.originalSwupHookCallSync(n,i,...[].slice.call(arguments,2))}})(),this.options={...this.defaults,...o}}mount(){const o=this.swup;this.originalSwupLog=o.log,o.log=this.log,this.options.globalInstance&&(window.swup=o),document.getElementsByTagName("title").length||this.warn("This page doesn't have a title tag. It is required on every page."),this.originalSwupHookCall=o.hooks.call.bind(o.hooks),this.originalSwupHookCallSync=o.hooks.callSync.bind(o.hooks),o.hooks.call=this.callHook.bind(this),o.hooks.callSync=this.callHookSync.bind(this)}unmount(){super.unmount(),this.swup.log=this.originalSwupLog,this.swup.hooks.call=this.originalSwupHookCall,this.swup.hooks.callSync=this.originalSwupHookCallSync,this.options.globalInstance&&(window.swup=void 0)}logHook(o,n){console.groupCollapsed("%cswup:%c"+o,"color: #343434","color: #009ACD"),console.log(n),console.groupEnd()}log(o,n){if(n){console.groupCollapsed(o);for(let o in n)console.log(n[o]);console.groupEnd()}else console.log(o+"%c","color: #009ACD")}warn(o){console.warn(`[swup debug plugin] ${o}`)}error(o){console.error(`[swup debug plugin] ${o}`)}}});
//# sourceMappingURL=index.umd.js.map
